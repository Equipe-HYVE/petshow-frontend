<section>    
    <div class="conteiner-servicos-list" *ngIf="servicosDetalhados && servicosDetalhados.length; then servicosBlock else vazioBlock"></div>
    
    <ng-template #vazioBlock>
        <p class="no_registered">{{'NENHUM_SERVICO_CADASTRADO_P' | translate}}</p>
    </ng-template>

    <ng-template #servicosBlock>
        <div class="servico-list">
            <mat-card *ngFor="let servico of servicosDetalhados">
                <div class="titulo-botao-servico">
                    <mat-card-title>
                        {{servico.tipo.nome | translate}}
                    </mat-card-title>
                    <div class="acoes-preco-por-tipo">
                        <mat-icon *ngIf="servico.ativo" class="icone" (click)="openDialogServicoPreco('INSERIR', servico)"> add </mat-icon>
                        <div class="ativo-toggle">
                            <mat-label>{{'ATIVO' | translate}}</mat-label>
                            <mat-slide-toggle [(ngModel)]="servico.ativo" (change)="openConfirmationDialogServicoDetalhado(servico)"></mat-slide-toggle>                                    
                        </div>
                    </div>                                    
                </div>
                <mat-card-content *ngIf="servico.ativo">
                    <div class="servico-precos">
                        <mat-card *ngFor="let preco of servico.precoPorTipo" class="card-preco-por-tipo">
                            <div class="titulo-botao-servico">
                                <mat-card-subtitle>{{preco.tipoAnimal.nome}}</mat-card-subtitle>
                                <div class="acoes-preco-por-tipo">
                                    <button mat-icon-button class="button-editar-preco-por-tipo" [disabled]="! preco.ativo" (click)="openDialogServicoPreco('ATUALIZAR', servico, preco)">
                                        <mat-icon class="icone"> edit </mat-icon>
                                    </button>
                                    <div class="ativo-toggle" *ngIf="servico.ativo">
                                        <mat-label>{{'ATIVO' | translate}}</mat-label>
                                        <mat-slide-toggle [(ngModel)]="preco.ativo" (change)="openConfirmationDialogPrecoPorTipo(servico, preco)"></mat-slide-toggle>                                    
                                    </div>                                    
                                </div>
                            </div>                            
                            <mat-card-content>
                                <span *ngIf="preco.tipoAnimal.porte">Porte: {{preco.tipoAnimal.porte}}</span><br *ngIf="preco.tipoAnimal.porte">
                                <span *ngIf="preco.tipoAnimal.pelagem">Pelagem: {{preco.tipoAnimal.pelagem}}</span><br *ngIf="preco.tipoAnimal.porte"> 
                                <span>{{preco.preco | currency: 'BRL'}}</span>
                            </mat-card-content>
                        </mat-card>
                    </div>
                    <div *ngIf="servico.adicionais && servico.adicionais.length; else adicionaisVazios" class="chips-adicional">
                        <mat-chip-list>
                            <mat-chip *ngFor="let adicional of servico.adicionais">
                                <span>{{adicional.nome}}</span> | <span>{{adicional.preco | currency: 'BRL'}}</span>
                                <mat-icon class="icone" (click)="openDialogAtualizacao(adicional)"> edit </mat-icon>
                                <mat-icon class="icone" (click)="openConfirmationDialogAdicional(adicional)"> delete </mat-icon>
                            </mat-chip>
                        </mat-chip-list>
                    </div>

                    <ng-template #adicionaisVazios>{{'NENHUM_ADICIONAL' | translate}}</ng-template>
                </mat-card-content>
                <mat-card-actions class="footer-buttons" *ngIf="servico.ativo">
                    <button mat-flat-button color="primary" (click)="openDialogInsercao(servico)">{{'NOVO_ADICIONAL' | translate}}</button>
                </mat-card-actions>
            </mat-card>
        </div>       

        <mat-paginator #paginator
            [length]="quantidadeTotal"
            [pageIndex]="paginaAtual"
            [pageSize]="quantidadeItens"
            [pageSizeOptions]="[5, 7, 10, 15]"
            (page)="pageEvent = eventoPagina($event)">
        </mat-paginator>
    </ng-template>
</section>